<!DOCTYPE html>
<html ng-app="app">
  <head>  
    <script src="bower_components/platform/platform.js"></script>
    <script src="js/angular.js" type="text/javascript"></script>
    <script src="js/angular-route.js" type="text/javascript"></script>
    <script src="js/app.js" type="text/javascript"></script>
    
    <link rel="import" href="bower_components/font-roboto/roboto.html">
    <link rel="import" href="sopro_components/core-scaffold/core-scaffold.html">
    <link rel="import" href="sopro_components/group-manager/group-card-titlebar.html">
    <link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
    <link rel="import" href="bower_components/core-menu/core-menu.html">
    <link rel="import" href="bower_components/core-item/core-item.html">
    <link rel="import" href="bower_components/paper-fab/paper-fab.html" >
    <link rel="import" href="sopro_components/sopro-card/sopro-card.html">
    <link rel="stylesheet" type="text/css" href="css/custom.css">
  </head>
  <body unresolved ng-controller="appCtrl">
    <div id="applicationContainer">
      <core-scaffold id="groupScaffold" narrow="true">
        <core-header-panel navigation flex mode="seamed">
          <core-toolbar hidden></core-toolbar>
          <core-menu theme="core-light-theme">
            <core-item icon="settings" label="item1"></core-item>
            <core-item icon="settings" label="item2"></core-item>
          </core-menu>
        </core-header-panel>
        <div class="mainTitle" tool>
            SocietyPro Groups and Governance
        </div>
        <div id="listMorphButtons" tool horizontal layout>
          <core-icon-button id="listButton" icon="view-stream"></core-icon-button>
          <core-icon-button id="gridButton" icon="view-quilt"></core-icon-button>
        </div>
        <paper-fab 
          id="addGroupCardButton" 
          icon="add"
          title="Add New Group"
          role="button"
        ></paper-fab>
        <div layout vertical center>
          <group-card-titlebar> </group-card-titlebar>
          <sopro-card>
          <h2>A Card Title</h2>
          Some card stuff...
          </sopro-card>
        </div>
      </core-scaffold>
    </div>
  </body>
  <script>
    document.addEventListener('polymer-ready', function () {
      document.getElementById('groupScaffold').closeDrawer();

      // Set up fab to fire group-card-create event when clicked:
      var fab = document.getElementById('addGroupCardButton');
      fab.onclick = function(){
        console.log('Clicked');
        /*
        console.log(this);
        console.log(fab);
        */
        var fireEvent = 
          new CustomEvent('group-card-create', {
            bubbles: true,
            detail:{ "title": "" } 
          });
        this.dispatchEvent(fireEvent);
      }
    });

    document.addEventListener('group-card-create', function () {
      console.log("core-scaffold heard event group-card-create from some other element");
    });
  </script>
</html>
